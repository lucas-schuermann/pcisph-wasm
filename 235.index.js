"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[235],{235:(t,e,n)=>{n.r(e),n.d(e,{Simulation:()=>k,default:()=>M,initSync:()=>I,initThreadPool:()=>m,wbg_rayon_PoolBuilder:()=>x,wbg_rayon_start_worker:()=>y});var r=n(517);let o;const a=new Array(32).fill(void 0);function _(t){return a[t]}a.push(void 0,null,!0,!1);let i=a.length;function c(t){const e=_(t);return function(t){t<36||(a[t]=i,i=t)}(t),e}const b=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});b.decode();let f=new Uint8Array;function u(){return f.buffer!==o.memory.buffer&&(f=new Uint8Array(o.memory.buffer)),f}function s(t,e){return b.decode(u().slice(t,t+e))}function w(t){i===a.length&&a.push(a.length+1);const e=i;return i=a[e],a[e]=t,e}let g=32,d=new Int32Array;function l(){return d.buffer!==o.memory.buffer&&(d=new Int32Array(o.memory.buffer)),d}function m(t){return c(o.initThreadPool(t))}function y(t){o.wbg_rayon_start_worker(t)}function h(t){return null==t}function p(t,e){try{return t.apply(this,e)}catch(t){o.__wbindgen_exn_store(w(t))}}let A=new Float32Array;let P=0;const S=new TextEncoder("utf-8");function v(t,e,n){if(void 0===n){const n=S.encode(t),r=e(n.length);return u().subarray(r,r+n.length).set(n),P=n.length,r}let r=t.length,o=e(r);const a=u();let _=0;for(;_<r;_++){const e=t.charCodeAt(_);if(e>127)break;a[o+_]=e}if(_!==r){0!==_&&(t=t.slice(_)),o=n(o,r,r=_+3*t.length);const e=function(t,e){const n=S.encode(t);return e.set(n),{read:t.length,written:n.length}}(t,u().subarray(o+_,o+r));_+=e.written}return P=_,o}class k{static __wrap(t){const e=Object.create(k.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();o.__wbg_simulation_free(t)}constructor(t,e){try{const _=o.__wbindgen_add_to_stack_pointer(-16);o.simulation_new(_,function(t){if(1==g)throw new Error("out of js stack");return a[--g]=t,g}(t),e);var n=l()[_/4+0],r=l()[_/4+1];if(l()[_/4+2])throw c(r);return k.__wrap(n)}finally{o.__wbindgen_add_to_stack_pointer(16),a[g++]=void 0}}get_num_particles(){return o.simulation_get_num_particles(this.ptr)>>>0}step(){o.simulation_step(this.ptr)}add_block(){o.simulation_add_block(this.ptr)}reset(){o.simulation_reset(this.ptr)}}class x{static __wrap(t){const e=Object.create(x.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();o.__wbg_wbg_rayon_poolbuilder_free(t)}numThreads(){return o.wbg_rayon_poolbuilder_numThreads(this.ptr)>>>0}receiver(){return o.wbg_rayon_poolbuilder_receiver(this.ptr)}build(){o.wbg_rayon_poolbuilder_build(this.ptr)}}function W(){const t={wbg:{}};return t.wbg.__wbg_createShader_46a66dce5a9e22d0=function(t,e){const n=_(t).createShader(e>>>0);return h(n)?0:w(n)},t.wbg.__wbg_shaderSource_5111981e7afb61fb=function(t,e,n,r){_(t).shaderSource(_(e),s(n,r))},t.wbg.__wbg_compileShader_822f38928f6f2a08=function(t,e){_(t).compileShader(_(e))},t.wbg.__wbg_getShaderParameter_6cd8c36fded266ea=function(t,e,n){return w(_(t).getShaderParameter(_(e),n>>>0))},t.wbg.__wbindgen_boolean_get=function(t){const e=_(t);return"boolean"==typeof e?e?1:0:2},t.wbg.__wbindgen_object_drop_ref=function(t){c(t)},t.wbg.__wbg_getShaderInfoLog_451545b963646762=function(t,e,n){const r=_(e).getShaderInfoLog(_(n));var a=h(r)?0:v(r,o.__wbindgen_malloc,o.__wbindgen_realloc),i=P;l()[t/4+1]=i,l()[t/4+0]=a},t.wbg.__wbg_setwidth_afb418d3fbf71ba7=function(t,e){_(t).width=e>>>0},t.wbg.__wbg_setheight_3eb8729b59493242=function(t,e){_(t).height=e>>>0},t.wbg.__wbg_getContext_4d5e97892c1b206a=function(){return p((function(t,e,n){const r=_(t).getContext(s(e,n));return h(r)?0:w(r)}),arguments)},t.wbg.__wbg_instanceof_WebGl2RenderingContext_fcfa91cd777063f3=function(t){let e;try{e=_(t)instanceof WebGL2RenderingContext}catch{e=!1}return e},t.wbg.__wbg_clearColor_bc89a6580c0498c3=function(t,e,n,r,o){_(t).clearColor(e,n,r,o)},t.wbg.__wbindgen_string_new=function(t,e){return w(s(t,e))},t.wbg.__wbg_createProgram_dc6b23d3caa1d86e=function(t){const e=_(t).createProgram();return h(e)?0:w(e)},t.wbg.__wbg_attachShader_90ad543fb1bccb18=function(t,e,n){_(t).attachShader(_(e),_(n))},t.wbg.__wbg_linkProgram_c33885d9ea798810=function(t,e){_(t).linkProgram(_(e))},t.wbg.__wbg_getProgramParameter_acf4ae158143e2b2=function(t,e,n){return w(_(t).getProgramParameter(_(e),n>>>0))},t.wbg.__wbg_getProgramInfoLog_1e37a3d1d090ec1c=function(t,e,n){const r=_(e).getProgramInfoLog(_(n));var a=h(r)?0:v(r,o.__wbindgen_malloc,o.__wbindgen_realloc),i=P;l()[t/4+1]=i,l()[t/4+0]=a},t.wbg.__wbg_useProgram_35a58ac1e0d9577b=function(t,e){_(t).useProgram(_(e))},t.wbg.__wbg_getUniformLocation_0da0c93f626244a2=function(t,e,n,r){const o=_(t).getUniformLocation(_(e),s(n,r));return h(o)?0:w(o)},t.wbg.__wbg_uniformMatrix4fv_68d11b378757596e=function(t,e,n,r,a){var i,c;_(t).uniformMatrix4fv(_(e),0!==n,(i=r,c=a,(A.buffer!==o.memory.buffer&&(A=new Float32Array(o.memory.buffer)),A).subarray(i/4,i/4+c)))},t.wbg.__wbg_getAttribLocation_b6cb917615347567=function(t,e,n,r){return _(t).getAttribLocation(_(e),s(n,r))},t.wbg.__wbg_createBuffer_a6cffb7f7d5b92a3=function(t){const e=_(t).createBuffer();return h(e)?0:w(e)},t.wbg.__wbg_bindBuffer_66e359418f5c82d7=function(t,e,n){_(t).bindBuffer(e>>>0,_(n))},t.wbg.__wbg_vertexAttribPointer_3b06d737566f0745=function(t,e,n,r,o,a,i){_(t).vertexAttribPointer(e>>>0,n,r>>>0,0!==o,a,i)},t.wbg.__wbg_enableVertexAttribArray_a1ffc091f3999354=function(t,e){_(t).enableVertexAttribArray(e>>>0)},t.wbg.__wbg_bufferData_8d206d7adf6751c0=function(t,e,n,r){_(t).bufferData(e>>>0,_(n),r>>>0)},t.wbg.__wbindgen_memory=function(){return w(o.memory)},t.wbg.__wbg_buffer_3f3d764d4747d564=function(t){return w(_(t).buffer)},t.wbg.__wbg_newwithbyteoffsetandlength_be22e5fcf4f69ab4=function(t,e,n){return w(new Float32Array(_(t),e>>>0,n>>>0))},t.wbg.__wbg_bufferSubData_0e04c6c7fec3c949=function(t,e,n,r){_(t).bufferSubData(e>>>0,n,_(r))},t.wbg.__wbg_clear_05614d3b84e96aae=function(t,e){_(t).clear(e>>>0)},t.wbg.__wbg_drawArrays_d587302f7a868d91=function(t,e,n,r){_(t).drawArrays(e>>>0,n,r)},t.wbg.__wbindgen_throw=function(t,e){throw new Error(s(t,e))},t.wbg.__wbindgen_module=function(){return w(R.__wbindgen_wasm_module)},t.wbg.__wbg_startWorkers_6fd3af285ea11136=function(t,e,n){return w((0,r.Q)(c(t),c(e),x.__wrap(n)))},t}function L(t,e){t.wbg.memory=e||new WebAssembly.Memory({initial:18,maximum:16384,shared:!0})}function C(t,e){return o=t.exports,R.__wbindgen_wasm_module=e,A=new Float32Array,d=new Int32Array,f=new Uint8Array,o.__wbindgen_start(),o}function I(t,e){const n=W();return L(n,e),t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t)),C(new WebAssembly.Instance(t,n),t)}async function R(t,e){void 0===t&&(t=new URL(n(275),n.b));const r=W();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t)),L(r,e);const{instance:o,module:a}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await t,r);return C(o,a)}const M=R},275:(t,e,n)=>{t.exports=n.p+"75b9f126b4481bf66bd4.wasm"}}]);